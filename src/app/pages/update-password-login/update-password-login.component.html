<section class="bg-slate-50 min-h-[100vh] flex justify-center pt-4 items-center dark:bg-slate-950">
  <div class="container flex items-center justify-center main w-[95%] mx-auto">
    <div class="row w-full flex ">
      <div class="col-12 col-lg-6">
        <div class="inner pb-3">
          <h1 class="text-5xl font-black mb-2 dark:text-white text-black letterSpace  ">Fresh Cart</h1>
          <h2 class="text-xl mt-2 w-[75%] dark:text-white text-black">Fresh Cart Helps You To Update Your Password.</h2>
        </div>
      </div>
      <div class="col-12 col-lg-6">
        <div class="inner bg-slate-300 py-3 rounded-md shadow-md  dark:bg-slate-900">
          <form class="" [formGroup]="passwordForm" (ngSubmit)="updatePassword()">
            <div class=" mx-auto box-border flex flex-col py-[1rem]">
              <label for="currentPassword" class="w-[85%] mx-auto mb-2 dark:text-white text-black">Current
                Password</label>
              <div class="flex justify-center items-center relative mx-auto w-[85%]">
                <input formControlName="currentPassword" id="currentPassword"
                  [type]="passwordVisibility['currentPassword'] ? 'text' : 'password'" placeholder="Current Password..."
                  class="w-full bg-white text-black dark:bg-black dark:text-white rounded-xl mx-auto shareLinkInput">
                <div class="absolute right-3 cursor-pointer px-1" (click)="togglePassword('currentPassword')">
                  <i class="fa-solid dark:text-white text-black" [class.fa-eye]="passwordVisibility['currentPassword']"
                    [class.fa-eye-slash]="!passwordVisibility['currentPassword']"></i>
                </div>
              </div>
              @if (passwordForm.get('currentPassword')?.errors && passwordForm.get('currentPassword')?.touched) {
              <div class="flex px-3 animeError text-sm text-red-800 dark:text-red-300 rounded-lg w-[85%] mx-auto"
                role="alert">
                <div>
                  <ul class="list-disc list-inside">
                    @if (passwordForm.get('password')?.getError('required')) {
                    <li class=""><i class="fa-solid fa-circle-exclamation mx-1 text-capitalize"></i>Required</li>
                    }
                  </ul>
                </div>
              </div>
              }
            </div>

            <div class=" mx-auto box-border flex flex-col py-[1rem]">
              <label for="password" class="w-[85%] mx-auto mb-2 dark:text-white text-black">Password</label>
              <div class="flex justify-center items-center relative mx-auto w-[85%]">
                <input formControlName="password" id="password"
                  [type]="passwordVisibility['password'] ? 'text' : 'password'" placeholder="Your Password..."
                  class="w-full rounded-xl mx-auto shareLinkInput dark:bg-black dark:text-white text-black bg-white">
                <div class="absolute right-3 cursor-pointer px-1" (click)="togglePassword('password')">
                  <i class="fa-solid dark:text-white text-black" [class.fa-eye]="passwordVisibility['password']"
                    [class.fa-eye-slash]="!passwordVisibility['password']"></i>
                </div>
              </div>
              @if (passwordForm.get('password')?.errors && passwordForm.get('password')?.touched) {
              <div class="flex px-3 animeError text-sm text-red-800 dark:text-red-300 rounded-lg w-[85%] mx-auto"
                role="alert">
                <div>
                  <ul class="mt-1.5 list-disc  list-inside">
                    @if (passwordForm.get('password')?.getError('pattern')) {
                    <li class=""><i class="fa-solid fa-circle-exclamation mx-1 text-capitalize"></i>Must Contain
                      Chars&Numbers</li>
                    }@else if (passwordForm.get('password')?.getError('minlength')) {
                    <li><i class="fa-solid fa-circle-exclamation mx-1 text-capitalize"></i>8 Char As Short</li>
                    }@else if (passwordForm.get('password')?.getError('maxlength')) {
                    <li><i class="fa-solid fa-circle-exclamation mx-1 text-capitalize"></i>32 Char As Long</li>
                    }@else if (passwordForm.get('password')?.getError('required')) {
                    <li><i class="fa-solid fa-circle-exclamation mx-1 text-capitalize"></i>Required</li>
                    }
                  </ul>
                </div>
              </div>
              }
            </div>

            <div class=" mx-auto box-border flex flex-col py-[1rem]">
              <label for="rePassword" class="w-[85%] mx-auto mb-2 dark:text-white text-black">Re Enter Password</label>
              <div class="flex  justify-center items-center relative mx-auto w-[85%]">
                <input formControlName="rePassword" id="rePassword"
                  [type]="passwordVisibility['rePassword'] ? 'text' : 'password'" placeholder="Repeat Password..."
                  class="w-[100%] rounded-xl mx-auto shareLinkInput dark:bg-black bg-white dark:text-white text-black">
                <div class="absolute right-3 cursor-pointer px-1" (click)="togglePassword('rePassword')">
                  <i class="fa-solid dark:text-white text-black" [class.fa-eye]="passwordVisibility['rePassword']"
                    [class.fa-eye-slash]="!passwordVisibility['rePassword']"></i>
                </div>
              </div>
              <div class="flex px-3 animeError text-sm text-red-800 dark:text-red-300 rounded-lg w-[85%] mx-auto"
                role="alert">
                <div>
                  <ul class="mt-1.5 list-disc  list-inside">
                    @if (passwordForm.get('rePassword')?.getError('required') &&
                    passwordForm.get('rePassword')?.touched) {
                    <li class="animeError"><i class="fa-solid  fa-circle-exclamation mx-1 text-capitalize"></i>Required
                    </li>
                    }@else if (passwordForm.errors && passwordForm.get('rePassword')?.touched) {
                    <li class="animeError"><i class="fa-solid  fa-circle-exclamation mx-1 text-capitalize"></i>Password
                      Not Match</li>
                    }
                  </ul>
                </div>
              </div>
            </div>
            @if(inncorrectPassword === true) {
            <p class="text-center font-black my-2 text-red-800 dark:text-red-300">Inncorrect Password <i
                class="fa-solid fa-xmark"></i></p>
            }
            <div class=" flex justify-center">
              <button
                class=" bg-[#0aad0ad4] rounded-xl py-2 ms-2 text-white px-4 hover:bg-[#0aad0a] flex justify-center  shadow-md transition-all duration-300 ease-in-out">
                Update
              </button>
            </div>
          </form>
          @if (inncorrectPassword === true) {
          <div class="flex justify-center pt-3 items-center">
            <a routerLink="/ForgettenPassword"
              class="cursor-pointer w-fit font-black text-center flex justify-center dark:text-white text-black">Forget Password ?</a>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
</section>
